@(form: Form[(String, Int)], user: User, users: Seq[(User, Program)], battles: Seq[Battle])(implicit flash: Flash)
@import views.users.MyHelpers._

@main("My page") {

<h1>Welcome @user.name</h1>

@flash.get("success").map { message =>
<p class="success">
    @message
</p>
}
@flash.get("error").map { message =>
<p class="error" style="color: #e55">
    @message
</p>
}
<h2>Upload your program</h2>
<form method="post" action="/user/upload" enctype="multipart/form-data">
    <input type="file" name="program">

    <p>
        <input type="submit" value="Upload program">
    </p>

</form>

<h2>Players</h2>
@form.globalError.map { error =>
<p class="error">
    @error.message
</p>
}
@helper.form(routes.Users.newBattle) {
<ul>

    @users.map { u =>
        <li><label>
            <input type="radio" name="email" id="email_@u._1.name" value="@u._1.email" />
            @u._1.name @u._2.version
        </label></li>
    }
</ul>

@helper.inputText(form("times"), 'id -> "times", 'size -> 10, 'value -> 1)
<button type="submit" id="create">Start battle</button>
}

<h2>All battles</h2>
<table>
@battles.map { battle =>
    <tr>
        <td>@battle.challengerMail</td><td>@battle.challengerVersion</td>
        <td>@battle.opponentMail</td><td>@battle.opponentVersion</td>
        <td>@battle.status</td><td><a href="/battles/@battle.id">detail</a></td>
    </tr>
}
</table>

}
